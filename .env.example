# Gemini Antiblock Proxy configuration template
#
# 将此文件复制为 .env 并根据自己的环境填写。

# 上游地址：默认使用官方 Gemini API
UPSTREAM_URL_BASE=https://generativelanguage.googleapis.com
# 若留空且填写下方 Spectre Proxy 变量，程序会自动拼接
# https://<WORKER>/<AUTH_TOKEN>/gemini 作为上游地址

# 仅供参考的 Cloudflare Spectre Proxy 配置（用于拼接上游地址或记录来源）
# 支持填写多个 Worker 地址，逗号、分号或换行均可分隔，系统会自动轮询。
# 示例：
# SPECTRE_PROXY_WORKER_URL="https://worker-a.example.workers.dev,https://worker-b.example.workers.dev"
# 或
# SPECTRE_PROXY_WORKER_URL="https://worker-a.example.workers.dev\nhttps://worker-b.example.workers.dev"
SPECTRE_PROXY_WORKER_URL=https://<WORKER>
SPECTRE_PROXY_AUTH_TOKEN=<AUTH_TOKEN>

# 需要启用抗断流的模型前缀（逗号分隔）
ANTIBLOCK_MODEL_PREFIXES=gemini-2.5-pro

# 基础运行参数
PORT=8080
DEBUG_MODE=false

# 重试配置
MAX_CONSECUTIVE_RETRIES=100
RETRY_DELAY_MS=750
SWALLOW_THOUGHTS_AFTER_RETRY=true

# 速率限制（可选）
ENABLE_RATE_LIMIT=false
RATE_LIMIT_COUNT=10
RATE_LIMIT_WINDOW_SECONDS=60

# 优化功能
ENABLE_PUNCTUATION_HEURISTIC=true
